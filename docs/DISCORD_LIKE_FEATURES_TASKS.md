# –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤ —Å—Ç–∏–ª–µ Discord

## üìã –û–±—â–∏–π –æ–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞, –ø–æ—Ö–æ–∂–µ–≥–æ –Ω–∞ Discord, –Ω–æ –≤ —Å—Ç–∏–ª–∏—Å—Ç–∏–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ Charge.

---

## üéØ –§–∞–∑–∞ 1: –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–æ–ª–∏ (Backend)

### –ó–∞–¥–∞—á–∞ 1.1: –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ä–æ–ª–µ–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 4 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å `CustomRole` –≤ `backend/app/models/chat.py`:
   - `id: int` (PK)
   - `room_id: int` (FK -> rooms.id, CASCADE)
   - `name: str` (max 128 —Å–∏–º–≤–æ–ª–æ–≤, unique –≤ —Ä–∞–º–∫–∞—Ö –∫–æ–º–Ω–∞—Ç—ã)
   - `color: str` (hex —Ü–≤–µ—Ç, —Ñ–æ—Ä–º–∞—Ç #RRGGBB)
   - `icon: str | None` (–ø—É—Ç—å –∫ –∏–∫–æ–Ω–∫–µ, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - `position: int` (–ø–æ–∑–∏—Ü–∏—è –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, default=0)
   - `hoist: bool` (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –≤ —Å–ø–∏—Å–∫–µ, default=False)
   - `mentionable: bool` (–º–æ–∂–Ω–æ —É–ø–æ–º–∏–Ω–∞—Ç—å, default=False)
   - `permissions_mask: int` (–±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞ –ø—Ä–∞–≤ –∫–æ–º–Ω–∞—Ç—ã, default=0)
   - `created_at: datetime`
   - `updated_at: datetime`
   - Relationship: `room`, `user_assignments`

2. –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å `UserCustomRole` –≤ `backend/app/models/chat.py`:
   - `id: int` (PK)
   - `user_id: int` (FK -> users.id, CASCADE)
   - `custom_role_id: int` (FK -> custom_roles.id, CASCADE)
   - `assigned_at: datetime`
   - UniqueConstraint: `(user_id, custom_role_id)`
   - Relationships: `user`, `custom_role`

3. –†–∞—Å—à–∏—Ä–∏—Ç—å enum `RoomPermission` –≤ `backend/app/models/enums.py`:
   ```python
   class RoomPermission(str, Enum):
       MANAGE_ROLES = "manage_roles"
       MANAGE_ROOM = "manage_room"
       KICK_MEMBERS = "kick_members"
       BAN_MEMBERS = "ban_members"
       MANAGE_INVITES = "manage_invites"
       VIEW_AUDIT_LOG = "view_audit_log"
   ```

4. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ `encode_room_permissions` –∏ `decode_room_permissions` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ channel permissions)

5. –û–±–Ω–æ–≤–∏—Ç—å `__init__.py` –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ú–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- ‚úÖ –í—Å–µ relationships –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ Constraints –∏ –∏–Ω–¥–µ–∫—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã

---

### –ó–∞–¥–∞—á–∞ 1.2: –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 2 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å Alembic –º–∏–≥—Ä–∞—Ü–∏—é:
   ```bash
   alembic revision -m "add_custom_roles"
   ```

2. –í –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã:
   - `custom_roles` —Å –ø–æ–ª—è–º–∏ –∏–∑ –∑–∞–¥–∞—á–∏ 1.1
   - `user_custom_roles` —Å –ø–æ–ª—è–º–∏ –∏–∑ –∑–∞–¥–∞—á–∏ 1.1
   - –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã:
     - `ix_custom_roles_room_id` –Ω–∞ `custom_roles.room_id`
     - `ix_custom_roles_position` –Ω–∞ `custom_roles.position`
     - `ix_user_custom_roles_user_id` –Ω–∞ `user_custom_roles.user_id`
     - `ix_user_custom_roles_role_id` –Ω–∞ `user_custom_roles.custom_role_id`

3. –î–æ–±–∞–≤–∏—Ç—å UniqueConstraint –¥–ª—è `(room_id, name)` –≤ `custom_roles`

4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é (upgrade/downgrade)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ –∏–Ω–¥–µ–∫—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ Rollback —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### –ó–∞–¥–∞—á–∞ 1.3: –°—Ö–µ–º—ã (Schemas) –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ä–æ–ª–µ–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 3 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `backend/app/schemas/roles.py`:
   - `CustomRoleBase` - –±–∞–∑–æ–≤—ã–µ –ø–æ–ª—è
   - `CustomRoleCreate` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–∏ (name, color, icon?, hoist?, mentionable?, permissions?)
   - `CustomRoleUpdate` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ (–≤—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã)
   - `CustomRoleRead` - —á—Ç–µ–Ω–∏–µ —Ä–æ–ª–∏ (–≤—Å–µ –ø–æ–ª—è + id, created_at, updated_at)
   - `CustomRoleReorderEntry` - –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π (id, position)
   - `CustomRoleReorderPayload` - —Å–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π –¥–ª—è —Ä–µ–æ—Ä–¥–µ—Ä–∞
   - `UserRoleAssignment` - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ (user_id, role_id)

2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é:
   - –¶–≤–µ—Ç: regex `^#[0-9A-Fa-f]{6}$`
   - –ù–∞–∑–≤–∞–Ω–∏–µ: min_length=1, max_length=128
   - –ü–æ–∑–∏—Ü–∏—è: ge=0

3. –û–±–Ω–æ–≤–∏—Ç—å `backend/app/schemas/__init__.py` –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ —Å—Ö–µ–º—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°—Ö–µ–º—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç

---

### –ó–∞–¥–∞—á–∞ 1.4: API endpoints –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ä–æ–ª–µ–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 6 —á–∞—Å–æ–≤

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `backend/app/api/roles.py`:
   - `POST /rooms/{slug}/roles` - —Å–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤: ADMIN –∏–ª–∏ OWNER
     - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è (—É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≤ –∫–æ–º–Ω–∞—Ç–µ)
     - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ position (max + 1)
   - `GET /rooms/{slug}/roles` - —Å–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π
     - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ position (desc)
     - –í–æ–∑–≤—Ä–∞—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∫–∞–∂–¥–æ–π —Ä–æ–ª—å—é
   - `GET /rooms/{slug}/roles/{role_id}` - –ø–æ–ª—É—á–∏—Ç—å —Ä–æ–ª—å
   - `PATCH /rooms/{slug}/roles/{role_id}` - –æ–±–Ω–æ–≤–∏—Ç—å —Ä–æ–ª—å
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
     - –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–∞–≤ –≤—ã—à–µ —Ç–µ–∫—É—â–∏—Ö
   - `DELETE /rooms/{slug}/roles/{role_id}` - —É–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
     - –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π
   - `POST /rooms/{slug}/roles/reorder` - –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫
     - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π
     - –ê—Ç–æ–º–∞—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

2. –°–æ–∑–¥–∞—Ç—å endpoints –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–ª–µ–π:
   - `POST /rooms/{slug}/members/{user_id}/roles/{role_id}` - –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å
   - `DELETE /rooms/{slug}/members/{user_id}/roles/{role_id}` - —Å–Ω—è—Ç—å —Ä–æ–ª—å
   - `GET /rooms/{slug}/members/{user_id}/roles` - —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤:
   - –°–æ–∑–¥–∞–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π: —Ç–æ–ª—å–∫–æ ADMIN/OWNER
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π: —Ç–æ–ª—å–∫–æ —Ä–æ–ª–∏ —Å –ø—Ä–∞–≤–æ–º MANAGE_ROLES
   - –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ä–æ–ª–∏ —Å –ø—Ä–∞–≤–∞–º–∏ –≤—ã—à–µ —Ç–µ–∫—É—â–∏—Ö

4. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫:
   - 403 Forbidden - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
   - 404 Not Found - —Ä–æ–ª—å/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
   - 409 Conflict - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–æ–ª–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚úÖ API –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ (OpenAPI)

---

### –ó–∞–¥–∞—á–∞ 1.5: –õ–æ–≥–∏–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–∞–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 5 —á–∞—Å–æ–≤

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `backend/app/services/permissions.py`:
   - –§—É–Ω–∫—Ü–∏—è `calculate_user_room_permissions(user_id, room_id) -> set[RoomPermission]`:
     - –ü–æ–ª—É—á–∏—Ç—å –±–∞–∑–æ–≤—É—é —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (RoomMember.role)
     - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
     - –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –ø—Ä–∞–≤–∞ –±–∞–∑–æ–≤–æ–π —Ä–æ–ª–∏ + –≤—Å–µ—Ö –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ä–æ–ª–µ–π (OR)
     - –í–µ—Ä–Ω—É—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–∞–≤
   
   - –§—É–Ω–∫—Ü–∏—è `calculate_user_channel_permissions(user_id, room_id, channel_id) -> set[ChannelPermission]`:
     - –ü–æ–ª—É—á–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∞ –∫–æ–º–Ω–∞—Ç—ã
     - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ä–æ–ª–µ–π
     - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–æ–ª–µ–π –Ω–∞ –∫–∞–Ω–∞–ª–µ (role overwrites)
     - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –∫–∞–Ω–∞–ª–µ (user overwrites) - –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
     - –í–µ—Ä–Ω—É—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞

2. –°–æ–∑–¥–∞—Ç—å helper —Ñ—É–Ω–∫—Ü–∏–∏:
   - `has_permission(user_id, room_id, permission, channel_id=None) -> bool`
   - `can_manage_role(actor_id, room_id, target_role_id) -> bool` - –ø—Ä–æ–≤–µ—Ä–∫–∞, –º–æ–∂–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–æ–ª—å—é

3. –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —á–µ—Ä–µ–∑ functools.lru_cache –∏–ª–∏ Redis):
   - –ö—ç—à –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –∫–æ–º–Ω–∞—Ç—É (TTL 5 –º–∏–Ω—É—Ç)
   - –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–æ–ª–µ–π

4. –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ RoomRole

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –õ–æ–≥–∏–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–∞–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–µ–º–ª–µ–º–∞

---

## üéØ –§–∞–∑–∞ 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ (Backend)

### –ó–∞–¥–∞—á–∞ 2.1: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ Channel

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 2 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å `Channel` –≤ `backend/app/models/chat.py`:
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `topic: str | None` (Text, nullable=True)
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `slowmode_seconds: int` (Integer, default=0, nullable=False)
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `is_nsfw: bool` (default=False, nullable=False)
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `is_private: bool` (default=False, nullable=False)
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `is_archived: bool` (default=False, nullable=False)
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `archived_at: datetime | None` (DateTime, nullable=True)
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `archived_by_id: int | None` (FK -> users.id, nullable=True)
   - –î–æ–±–∞–≤–∏—Ç—å relationship `archived_by: User | None`

2. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—ã –≤ `backend/app/schemas/rooms.py`:
   - –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ `ChannelBase`, `ChannelCreate`, `ChannelUpdate`, `ChannelRead`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ú–æ–¥–µ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –°—Ö–µ–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –í—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

---

### –ó–∞–¥–∞—á–∞ 2.2: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è Channel

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 1 —á–∞—Å

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å Alembic –º–∏–≥—Ä–∞—Ü–∏—é:
   ```bash
   alembic revision -m "extend_channel_settings"
   ```

2. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü—É `channels`:
   - –í—Å–µ –ø–æ–ª—è –∏–∑ –∑–∞–¥–∞—á–∏ 2.1
   - –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π

3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω—ã

---

### –ó–∞–¥–∞—á–∞ 2.3: API –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞–Ω–∞–ª–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 4 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –û–±–Ω–æ–≤–∏—Ç—å `PATCH /channels/{channel_id}` –≤ `backend/app/api/channels.py`:
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: topic, slowmode_seconds, is_nsfw, is_private
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤: MANAGE_CHANNEL

2. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ endpoints:
   - `POST /channels/{channel_id}/archive` - –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤: MANAGE_CHANNEL
     - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ is_archived=True, archived_at, archived_by_id
   - `POST /channels/{channel_id}/unarchive` - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–Ω–∞–ª
     - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤: MANAGE_CHANNEL
     - –°–±—Ä–æ—Å is_archived=False, archived_at=None, archived_by_id=None

3. –û–±–Ω–æ–≤–∏—Ç—å `GET /channels/{channel_id}`:
   - –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ –ø–æ–ª—è

4. –û–±–Ω–æ–≤–∏—Ç—å `GET /rooms/{slug}`:
   - –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –∫–∞–Ω–∞–ª—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã–≤–∞—Ç—å)
   - –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `?include_archived=true` –¥–ª—è –ø–æ–∫–∞–∑–∞ –∞—Ä—Ö–∏–≤–Ω—ã—Ö

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –ê—Ä—Ö–∏–≤–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### –ó–∞–¥–∞—á–∞ 2.4: –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 3 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–Ω–∞–ª–æ–≤:
   - –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª—ã –ø–æ –ø—Ä–∞–≤—É VIEW
   - –ï—Å–ª–∏ –∫–∞–Ω–∞–ª –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –ø—Ä–∞–≤–∞ VIEW - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å

2. –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–Ω–∞–ª—É:
   - –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–æ VIEW
   - –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–æ SEND_MESSAGES

3. –û–±–Ω–æ–≤–∏—Ç—å workspace events:
   - –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏—è –æ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–∞–Ω–∞–ª–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–µ–∑ –ø—Ä–∞–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–∞–Ω–∞–ª—ã —Å–∫—Ä—ã—Ç—ã –æ—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –∫–∞–Ω–∞–ª–∞–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è

---

### –ó–∞–¥–∞—á–∞ 2.5: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Slowmode

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 3 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è:
   - `channel_user_last_message`:
     - `channel_id: int` (FK)
     - `user_id: int` (FK)
     - `last_message_at: datetime`
     - UniqueConstraint: `(channel_id, user_id)`

2. –°–æ–∑–¥–∞—Ç—å middleware/–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ slowmode:
   - –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
   - –ï—Å–ª–∏ –ø—Ä–æ—à–ª–æ –º–µ–Ω—å—à–µ `slowmode_seconds` - –≤–µ—Ä–Ω—É—Ç—å 429 Too Many Requests
   - –û–±–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏

3. –î–æ–±–∞–≤–∏—Ç—å –≤ –æ—Ç–≤–µ—Ç API –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ slowmode:
   - –í `ChannelRead` –¥–æ–±–∞–≤–∏—Ç—å `slowmode_seconds`
   - –í –æ—Ç–≤–µ—Ç–µ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ–±–∞–≤–∏—Ç—å `next_message_allowed_at` (–µ—Å–ª–∏ slowmode –∞–∫—Ç–∏–≤–µ–Ω)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ Slowmode —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ —Å—Ç—Ä–∞–¥–∞–µ—Ç

---

## üéØ –§–∞–∑–∞ 3: Frontend - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏

### –ó–∞–¥–∞—á–∞ 3.1: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 8 —á–∞—Å–æ–≤

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å `frontend/src/components/dialogs/CustomRoleManagerDialog.tsx`:
   - –°–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π —Å drag & drop –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏
   - –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å"
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π

2. –°–æ–∑–¥–∞—Ç—å `frontend/src/components/dialogs/CustomRoleEditor.tsx`:
   - –ü–æ–ª–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–æ–ª–∏
   - –¶–≤–µ—Ç–æ–≤–æ–π –ø–∏–∫–µ—Ä (ColorPicker)
   - –ß–µ–∫–±–æ–∫—Å—ã: hoist, mentionable
   - –†–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–∞–≤ (PermissionEditor)
   - –ö–Ω–æ–ø–∫–∏: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å, –û—Ç–º–µ–Ω–∞

3. –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ui/RoleColorPicker.tsx`:
   - –ü–∞–ª–∏—Ç—Ä–∞ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤
   - –ü–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ hex —Ü–≤–µ—Ç–∞
   - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ü–≤–µ—Ç–∞

4. –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ui/PermissionEditor.tsx`:
   - –ì—Ä—É–ø–ø—ã –ø—Ä–∞–≤ (Room Permissions, Channel Permissions)
   - –ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∞–≤–∞
   - –í–∏–∑—É–∞–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞

5. –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ui/RoleList.tsx`:
   - –°–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π —Å drag & drop
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞, –Ω–∞–∑–≤–∞–Ω–∏—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ö–Ω–æ–ø–∫–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ UI –∏–Ω—Ç—É–∏—Ç–∏–≤–µ–Ω –∏ –ø–æ–Ω—è—Ç–µ–Ω
- ‚úÖ Drag & drop —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### –ó–∞–¥–∞—á–∞ 3.2: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–æ–ª–µ–π –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 5 —á–∞—Å–æ–≤

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ui/RoleBadge.tsx`:
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ü–≤–µ—Ç–Ω–æ–≥–æ –±–µ–π–¥–∂–∞ —Ä–æ–ª–∏
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–ª–∏
   - –ü—Ä–∏–º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç –∏–∑ —Ä–æ–ª–∏

2. –û–±–Ω–æ–≤–∏—Ç—å `frontend/src/components/PresenceList.tsx` (—Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤):
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–æ–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (RoleBadge)
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: —Å–Ω–∞—á–∞–ª–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Å hoist —Ä–æ–ª—è–º–∏ (–ø–æ position —Ä–æ–ª–∏)
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ hoist —Ä–æ–ª—è–º

3. –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:
   - –í `MessageList` –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–æ–ª–∏ –∞–≤—Ç–æ—Ä–∞ –ø–æ–¥ –∏–º–µ–Ω–µ–º
   - –¶–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ —Ä–æ–ª–µ–π

4. –û–±–Ω–æ–≤–∏—Ç—å —Å–∞–π–¥–±–∞—Ä –∫–∞–Ω–∞–ª–æ–≤:
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –µ—Å—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–æ–ª–∏)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –†–æ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–µ–∑–¥–µ, –≥–¥–µ –Ω—É–∂–Ω–æ
- ‚úÖ –¶–≤–µ—Ç–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### –ó–∞–¥–∞—á–∞ 3.3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å store

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 4 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –û–±–Ω–æ–≤–∏—Ç—å `frontend/src/state/workspaceStore.ts`:
   - –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ: `customRoles: Record<number, CustomRole[]>`
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã:
     - `fetchCustomRoles(roomSlug: string)`
     - `createCustomRole(roomSlug: string, payload: CustomRoleCreate)`
     - `updateCustomRole(roomSlug: string, roleId: number, payload: CustomRoleUpdate)`
     - `deleteCustomRole(roomSlug: string, roleId: number)`
     - `reorderRoles(roomSlug: string, roles: CustomRoleReorderEntry[])`
     - `assignRoleToUser(roomSlug: string, userId: number, roleId: number)`
     - `removeRoleFromUser(roomSlug: string, userId: number, roleId: number)`

2. –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –≤ `frontend/src/types.ts`:
   - `CustomRole`
   - `CustomRoleCreate`
   - `CustomRoleUpdate`
   - `CustomRoleReorderEntry`

3. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–º–Ω–∞—Ç—ã:
   - –ó–∞–≥—Ä—É–∂–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–æ–ª–∏ –≤–º–µ—Å—Ç–µ —Å –∫–æ–º–Ω–∞—Ç–æ–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

---

### –ó–∞–¥–∞—á–∞ 3.4: WebSocket —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Ä–æ–ª–µ–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 3 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –û–±–Ω–æ–≤–∏—Ç—å `backend/app/services/workspace_events.py`:
   - –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏:
     - `publish_role_created(room_slug: str, role: CustomRole)`
     - `publish_role_updated(room_slug: str, role: CustomRole)`
     - `publish_role_deleted(room_slug: str, role_id: int)`
     - `publish_roles_reordered(room_slug: str, roles: list[CustomRole])`
     - `publish_user_role_assigned(room_slug: str, user_id: int, role_id: int)`
     - `publish_user_role_removed(room_slug: str, user_id: int, role_id: int)`

2. –í—ã–∑—ã–≤–∞—Ç—å —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö API endpoints

3. –û–±–Ω–æ–≤–∏—Ç—å `frontend/src/state/workspaceStore.ts`:
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ WebSocket —Å–æ–±—ã—Ç–∏–π:
     - `role_created` - –¥–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å
     - `role_updated` - –æ–±–Ω–æ–≤–∏—Ç—å —Ä–æ–ª—å
     - `role_deleted` - —É–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å
     - `roles_reordered` - –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫
     - `user_role_assigned` - –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
     - `user_role_removed` - –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ —Å–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- ‚úÖ Frontend –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è
- ‚úÖ UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

## üéØ –§–∞–∑–∞ 4: Frontend - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–æ–≤

### –ó–∞–¥–∞—á–∞ 4.1: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ ChannelSettingsDialog

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 6 —á–∞—Å–æ–≤

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –û–±–Ω–æ–≤–∏—Ç—å `frontend/src/components/dialogs/ChannelSettingsDialog.tsx`:
   - –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É "–û–±–∑–æ—Ä":
     - –ü–æ–ª–µ –¥–ª—è topic (textarea)
     - –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
   - –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É "–ù–∞—Å—Ç—Ä–æ–π–∫–∏":
     - Slowmode: –ø–æ–ª–µ –≤–≤–æ–¥–∞ (—Å–µ–∫—É–Ω–¥—ã, 0-21600)
     - –ß–µ–∫–±–æ–∫—Å NSFW
     - –ß–µ–∫–±–æ–∫—Å "–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–∞–Ω–∞–ª"
     - –ö–Ω–æ–ø–∫–∞ "–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å" (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é:
   - Slowmode: —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 21600
   - Topic: –º–∞–∫—Å–∏–º—É–º 1024 —Å–∏–º–≤–æ–ª–∞

3. –û–±–Ω–æ–≤–∏—Ç—å UI:
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### –ó–∞–¥–∞—á–∞ 4.2: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞–Ω–∞–ª–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 4 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –û–±–Ω–æ–≤–∏—Ç—å `frontend/src/components/ChannelSidebar.tsx`:
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å topic –≤ tooltip –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–∞–Ω–∞–ª
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä NSFW (–∏–∫–æ–Ω–∫–∞ 18+)
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ (–∏–∫–æ–Ω–∫–∞ –∑–∞–º–æ—á–∫–∞)
   - –°–∫—Ä—ã–≤–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –∫–∞–Ω–∞–ª—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

2. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞–Ω–∞–ª–∞ –≤ `ChatView`:
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å topic –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–∞–Ω–∞–ª–∞
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã NSFW –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏

3. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–æ–º–Ω–∞—Ç—ã:
   - –ß–µ–∫–±–æ–∫—Å "–ü–æ–∫–∞–∑–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –∫–∞–Ω–∞–ª—ã"

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –í—Å–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- ‚úÖ Topic –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –§–∏–ª—å—Ç—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### –ó–∞–¥–∞—á–∞ 4.3: UI –¥–ª—è Slowmode

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∏–∑–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 3 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –û–±–Ω–æ–≤–∏—Ç—å `frontend/src/components/MessageInput.tsx`:
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å slowmode –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏, –µ—Å–ª–∏ slowmode –∞–∫—Ç–∏–≤–µ–Ω
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞

2. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `SlowmodeIndicator.tsx`:
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
   - –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä (progress bar)

3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ 429:
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ slowmode
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–∞–π–º–µ—Ä

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ Slowmode —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ UI
- ‚úÖ –¢–∞–π–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ UX –ø–æ–Ω—è—Ç–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

---

## üéØ –§–∞–∑–∞ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ó–∞–¥–∞—á–∞ 5.1: Unit —Ç–µ—Å—Ç—ã

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 6 —á–∞—Å–æ–≤

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –¢–µ—Å—Ç—ã –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–∞–≤ (`backend/tests/test_permissions.py`):
   - –¢–µ—Å—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–∞–≤ –±–∞–∑–æ–≤–æ–π —Ä–æ–ª–∏ –∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ä–æ–ª–µ–π
   - –¢–µ—Å—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
   - –¢–µ—Å—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

2. –¢–µ—Å—Ç—ã –¥–ª—è API —Ä–æ–ª–µ–π (`backend/tests/test_roles_api.py`):
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–∏
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–∏
   - –£–¥–∞–ª–µ–Ω–∏–µ —Ä–æ–ª–∏
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   - –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤

3. –¢–µ—Å—Ç—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞–Ω–∞–ª–æ–≤ (`backend/tests/test_channel_settings.py`):
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ topic
   - Slowmode
   - –ê—Ä—Ö–∏–≤–∞—Ü–∏—è

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ > 80%
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

---

### –ó–∞–¥–∞—á–∞ 5.2: Integration —Ç–µ—Å—Ç—ã

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 4 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. E2E —Ç–µ—Å—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏:
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–∏
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–æ–ª–∏ –≤ UI

2. E2E —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞–Ω–∞–ª–æ–≤:
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ topic
   - –í–∫–ª—é—á–µ–Ω–∏–µ slowmode
   - –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –∫–∞–Ω–∞–ª–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã
- ‚úÖ –¢–µ—Å—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã

---

### –ó–∞–¥–∞—á–∞ 5.3: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∏–∑–∫–∏–π  
**–û—Ü–µ–Ω–∫–∞**: 3 —á–∞—Å–∞

#### –ü–æ–¥–∑–∞–¥–∞—á–∏:
1. –û–±–Ω–æ–≤–∏—Ç—å API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
   - –û–ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–µ endpoints
   - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤

2. –°–æ–∑–¥–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   - –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å
   - –ö–∞–∫ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å
   - –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–Ω–∞–ª

3. –û–±–Ω–æ–≤–∏—Ç—å README:
   - –û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

| –§–∞–∑–∞ | –ó–∞–¥–∞—á–∏ | –û—Ü–µ–Ω–∫–∞ |
|------|--------|--------|
| –§–∞–∑–∞ 1: –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–æ–ª–∏ (Backend) | 5 –∑–∞–¥–∞—á | 20 —á–∞—Å–æ–≤ |
| –§–∞–∑–∞ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ (Backend) | 5 –∑–∞–¥–∞—á | 13 —á–∞—Å–æ–≤ |
| –§–∞–∑–∞ 3: Frontend - –†–æ–ª–∏ | 4 –∑–∞–¥–∞—á–∏ | 20 —á–∞—Å–æ–≤ |
| –§–∞–∑–∞ 4: Frontend - –ö–∞–Ω–∞–ª—ã | 3 –∑–∞–¥–∞—á–∏ | 13 —á–∞—Å–æ–≤ |
| –§–∞–∑–∞ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 3 –∑–∞–¥–∞—á–∏ | 13 —á–∞—Å–æ–≤ |
| **–ò–¢–û–ì–û** | **20 –∑–∞–¥–∞—á** | **79 —á–∞—Å–æ–≤** |

---

## üöÄ –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)

1. **–ù–µ–¥–µ–ª—è 1-2**: –§–∞–∑–∞ 1 (Backend —Ä–æ–ª–∏)
2. **–ù–µ–¥–µ–ª—è 3**: –§–∞–∑–∞ 2 (Backend –∫–∞–Ω–∞–ª—ã)
3. **–ù–µ–¥–µ–ª—è 4-5**: –§–∞–∑–∞ 3 (Frontend —Ä–æ–ª–∏)
4. **–ù–µ–¥–µ–ª—è 6**: –§–∞–∑–∞ 4 (Frontend –∫–∞–Ω–∞–ª—ã)
5. **–ù–µ–¥–µ–ª—è 7**: –§–∞–∑–∞ 5 (–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
2. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö**: –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–æ–º–Ω–∞—Ç
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞ backend
5. **UX**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º, –∫–∞–∫ –≤ Discord

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º

- [ ] –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [ ] –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [ ] UX –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

