import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const resources = {
  en: {
    translation: {
      app: {
        title: 'Charge Workspace',
        openSettings: 'Open settings',
        signInRequired: 'Sign in to access your rooms',
        reconnect: 'Reconnect',
        serverReady: 'Server reachable',
        tokenMissing: 'Server unavailable',
        openCommandPalette: 'Command palette',
      },
      auth: {
        loginTitle: 'Sign in',
        registerTitle: 'Create account',
        loginField: 'Login',
        passwordField: 'Password',
        displayNameField: 'Display name',
        displayNamePlaceholder: 'Optional name shown to others',
        loginAction: 'Sign in',
        registerAction: 'Sign up',
        switchToRegister: 'Create an account',
        switchToLogin: 'Back to sign in',
        unexpectedError: 'Something went wrong. Please try again.',
      },
      invites: {
        title: 'Join a server',
        subtitle: 'Enter an invite code to join a new room.',
        codeField: 'Invite code',
        codePlaceholder: '8+ character code',
        codeRequired: 'Enter an invite code to continue.',
        submit: 'Join',
        openButton: 'Join via invite',
        unexpectedError: 'Failed to join the server.',
        manageAction: 'Invites',
        manageTitle: 'Manage invites',
        manageSubtitle: 'Generate reusable codes and share them with teammates.',
        roleLabel: 'Role on join',
        expirationLabel: 'Expires at',
        expirationHint: 'Leave empty for a permanent invite.',
        createButton: 'Generate invite',
        none: 'No invites yet — create one above.',
        roleValue: 'Role: {{role}}',
        expiresAt: 'Expires {{date}}',
        noExpiration: 'Never expires',
        copyLink: 'Copy link',
        copied: 'Copied!',
        delete: 'Delete',
        copyFailed: 'Failed to copy invite link.',
      },
      servers: {
        title: 'Servers',
        empty: 'You are not a member of any rooms yet.',
        create: 'Create room',
        createTitle: 'Create a new room',
        createSubtitle: 'Give your room a name so teammates can recognize it.',
        createNameLabel: 'Room name',
        createNamePlaceholder: 'Community or project name',
        createSubmit: 'Create room',
        createNameRequired: 'Enter the room name to continue.',
        createUnknownError: 'Failed to create the room.',
        manageServer: 'Manage server {{title}}',
      },
      channels: {
        title: 'Channels',
        text: 'Text Channels',
        voice: 'Voice Channels',
        stage: 'Stage Channels',
        announcements: 'Announcement Channels',
        forums: 'Forum Channels',
        events: 'Event Channels',
        empty: 'No channels yet',
        loading: 'Loading channels…',
        createText: 'Create text channel',
        createVoice: 'Create voice channel',
        createStage: 'Create stage channel',
        createAnnouncements: 'Create announcement channel',
        createForums: 'Create forum channel',
        createEvents: 'Create event channel',
        createCategory: 'Create category',
        createTitle: 'Create channel',
        createSubtitle: 'Channels help organize discussions.',
        createNameLabel: 'Channel name',
        createNamePlaceholder: 'General',
        createTypeLabel: 'Channel type',
        typeText: 'Text',
        typeVoice: 'Voice',
        typeStage: 'Stage',
        typeAnnouncements: 'Announcements',
        typeForums: 'Forums',
        typeEvents: 'Events',
        createSubmit: 'Create channel',
        createNameRequired: 'Enter the channel name to continue.',
        createUnknownError: 'Failed to create the channel.',
        manageChannel: 'Manage channel {{name}}',
        deleteChannel: 'Delete channel',
        deleteChannelFailed: 'Failed to delete the channel.',
        openChannel: 'Open channel',
        copyLetter: 'Copy letter',
        copyLetterFailed: 'Failed to copy channel letter.',
        managePermissions: 'Permissions',
        manageCategory: 'Manage category {{name}}',
        deleteCategory: 'Delete category',
        deleteCategoryFailed: 'Failed to delete the category.',
        categoryCreateTitle: 'Create category',
        categoryCreateSubtitle: 'Categories group related channels in {{title}}.',
        categoryNameLabel: 'Category name',
        categoryNamePlaceholder: 'Announcements',
        categoryPositionLabel: 'Position',
        categoryPositionHint: 'Lower numbers appear first.',
        categoryCreateSubmit: 'Create category',
        categoryNameRequired: 'Enter the category name to continue.',
        quickCreate: 'New channel',
        permissionsTitle: 'Manage permissions for {{name}}',
        permissionsSubtitle: 'Allow or block actions for specific roles and members.',
        permissionRoles: 'Role overrides',
        permissionMembers: 'Member overrides',
        permissionEmpty: 'No overrides configured yet.',
        permissionSelectMember: 'Select a member',
        permissionAddMember: 'Add override',
        permissionRemoveMember: 'Remove override',
        permissionsLoading: 'Loading permissions…',
        permissionsUpdateFailed: 'Failed to update permissions.',
        permissionStates: {
          allow: 'Allow',
          deny: 'Deny',
          inherit: 'Inherit',
        },
        permissionNames: {
          view: 'View channel',
          send_messages: 'Send messages',
          manage_messages: 'Manage messages',
          connect: 'Connect to voice',
          speak: 'Speak in voice',
          manage_channel: 'Manage channel settings',
          manage_permissions: 'Manage permissions',
          start_stage: 'Start stage session',
          manage_stage: 'Moderate stage session',
          publish_announcements: 'Publish announcements',
          create_forum_posts: 'Create forum posts',
          moderate_forum_posts: 'Moderate forum posts',
          create_events: 'Create events',
          manage_events: 'Manage events',
        },
      },
      roles: {
        manageAction: 'Roles',
        manageTitle: 'Manage role hierarchy',
        manageSubtitle: 'Set priority levels to control permissions.',
        role: 'Role',
        level: 'Level',
        save: 'Save',
        levelRequired: 'Enter a numeric level value.',
        updateFailed: 'Failed to update the role level.',
        owner: 'Owner',
        admin: 'Admin',
        member: 'Member',
        guest: 'Guest',
      },
      chat: {
        title: 'Chat',
        placeholder: 'Message #{{name}}',
        send: 'Send',
        empty: 'No messages yet — start the conversation!',
        typing: '{{users}} is typing…',
        typingMany: '{{count}} people are typing…',
        connection: {
          connecting: 'Connecting…',
          error: 'Connection lost',
          connected: 'Connected',
        },
        reply: 'Reply',
        viewThread: 'Open thread',
        edit: 'Edit',
        delete: 'Delete',
        restore: 'Restore',
        moderate: 'Moderate',
        save: 'Save',
        cancel: 'Cancel',
        deleteConfirm: 'Delete message?',
        moderatePrompt: 'Moderation reason (optional)',
        messageDeleted: 'Message deleted',
        edited: 'edited',
        moderated: 'Moderated',
        moderationNote: 'Reason: {{note}}',
        pinned: 'Pinned',
        threadTitle: "{{user}}'s thread",
        threadError: 'Failed to load thread',
        replyingTo: 'Replying to',
        attachFile: 'Attach file',
        emojiPicker: 'Choose emoji',
        removeAttachment: 'Remove',
        sendError: 'Failed to send message',
        editError: 'Failed to update message',
        deleteError: 'Failed to delete message',
        moderateError: 'Failed to moderate message',
        reactionsLabel: 'Reactions',
        addReaction: 'Add reaction',
        addReactionWithEmoji: 'Add reaction {{emoji}}',
        toggleReaction: 'Toggle reaction {{emoji}}',
        reactionAdded: 'Reaction added {{emoji}}',
        reactionRemoved: 'Reaction removed {{emoji}}',
        reactionError: 'Failed to update reaction',
        pinsEmpty: 'No pinned messages yet',
        pinsLabel: 'Pinned messages',
        hidePins: 'Hide pins',
        showPins: 'Pins ({{count}})',
        unpin: 'Unpin',
        unknownUser: 'Member',
        attachmentMessage: 'Attachment',
      },
      presence: {
        title: 'Online',
        empty: 'Nobody is here yet.',
        focusUser: 'Focus on {{name}}',
        copyName: 'Copy display name',
        copyId: 'Copy ID',
      },
      voice: {
        title: 'Voice',
        sections: {
          status: 'Status',
          quickActions: 'Quick actions',
          channels: 'Channels',
          devices: 'Devices & input',
          participants: 'Participants',
        },
        connectHint: 'Select a voice channel to preview participants.',
        empty: 'Nobody in voice channels yet.',
        join: 'Connect',
        leave: 'Disconnect',
        participants: 'Participants',
        status: {
          connected: 'Connected',
          connecting: 'Connecting…',
          disconnected: 'Not connected',
          error: 'Connection error',
        },
        controls: {
          label: 'Voice controls',
          mute: 'Mute',
          unmute: 'Unmute',
          deafen: 'Deafen',
          undeafen: 'Undeafen',
          videoOn: 'Enable video',
          videoOff: 'Disable video',
          refreshDevices: 'Refresh devices',
          retry: 'Retry',
        },
        devices: {
          label: 'Device selection',
          microphone: 'Microphone',
          speaker: 'Speakers',
          camera: 'Camera',
          none: 'None available',
          unknown: 'Unknown device',
          sinkNotSupported: 'Output selection not supported',
        },
        microphoneSettings: {
          label: 'Microphone settings',
          level: 'Input level',
          gain: 'Gain',
          gainValue: '{{value}}×',
          auto: 'Automatic adjustment',
        },
        playbackSettings: {
          label: 'Playback',
          volume: 'Participants volume',
          volumeValue: '{{value}}%',
          participantSlider: 'Volume for {{name}}',
          participantValue: '{{value}}%',
        },
        participantYou: 'you',
        noRoomSelected: 'Join a server to enable voice features.',
      },
      settings: {
        title: 'Workspace settings',
        token: 'Access token',
        tokenHint: 'Tokens are stored only in this browser.',
        save: 'Save',
        reset: 'Clear',
        close: 'Close',
        theme: 'Theme',
        background: 'Custom background',
        backgroundHint: 'Use any valid CSS color or gradient value.',
        backgroundPlaceholder: 'linear-gradient(...)',
        animations: 'Enable animated transitions',
        language: 'Language',
      },
      theme: {
        light: 'Light',
        dark: 'Dark',
        midnight: 'Midnight',
        forest: 'Forest',
        ocean: 'Ocean',
        yani: 'Yani',
      },
      commandPalette: {
        title: 'Command palette',
        hint: 'Search servers, channels, and people',
        placeholder: 'Search…',
        empty: 'No results found.',
        server: 'Server',
        textChannel: 'Text channel',
        voiceChannel: 'Voice channel',
        user: 'Member',
      },
      language: {
        ru: 'Русский',
        en: 'English',
      },
      errors: {
        missingToken: 'Add an access token to continue.',
        loadRooms: 'Failed to load rooms',
        loadRoom: 'Failed to load room',
      },
      common: {
        loading: 'Loading…',
        retry: 'Retry',
        cancel: 'Cancel',
        close: 'Close',
        refresh: 'Refresh',
      },
    },
  },
  ru: {
    translation: {
      app: {
        title: 'Рабочая область Charge',
        openSettings: 'Открыть настройки',
        signInRequired: 'Авторизуйтесь, чтобы увидеть комнаты',
        reconnect: 'Переподключиться',
        serverReady: 'Сервер доступен',
        tokenMissing: 'Сервер недоступен',
        openCommandPalette: 'Командная палитра',
      },
      auth: {
        loginTitle: 'Вход',
        registerTitle: 'Регистрация',
        loginField: 'Логин',
        passwordField: 'Пароль',
        displayNameField: 'Отображаемое имя',
        displayNamePlaceholder: 'Необязательно, видно другим участникам',
        loginAction: 'Войти',
        registerAction: 'Создать аккаунт',
        switchToRegister: 'Зарегистрироваться',
        switchToLogin: 'Вернуться ко входу',
        unexpectedError: 'Что-то пошло не так. Попробуйте снова.',
      },
      invites: {
        title: 'Присоединиться по инвайту',
        subtitle: 'Введите код приглашения, чтобы вступить на сервер.',
        codeField: 'Код приглашения',
        codePlaceholder: 'Код из приглашения',
        codeRequired: 'Введите код приглашения.',
        submit: 'Присоединиться',
        openButton: 'Ввести инвайт',
        unexpectedError: 'Не удалось присоединиться к серверу.',
        manageAction: 'Инвайты',
        manageTitle: 'Управление инвайтами',
        manageSubtitle: 'Создавайте постоянные и разовые ссылки для команды.',
        roleLabel: 'Роль при входе',
        expirationLabel: 'Истекает',
        expirationHint: 'Оставьте пустым для бессрочного приглашения.',
        createButton: 'Создать инвайт',
        none: 'Инвайтов пока нет — создайте первый.',
        roleValue: 'Роль: {{role}}',
        expiresAt: 'Истекает {{date}}',
        noExpiration: 'Без ограничения',
        copyLink: 'Скопировать ссылку',
        copied: 'Скопировано!',
        delete: 'Удалить',
        copyFailed: 'Не удалось скопировать ссылку.',
      },
      servers: {
        title: 'Серверы',
        empty: 'Вы ещё не присоединились ни к одной комнате.',
        create: 'Создать комнату',
        createTitle: 'Создание новой комнаты',
        createSubtitle: 'Придумайте название, чтобы коллеги узнали пространство.',
        createNameLabel: 'Название комнаты',
        createNamePlaceholder: 'Название команды или проекта',
        createSubmit: 'Создать комнату',
        createNameRequired: 'Введите название комнаты.',
        createUnknownError: 'Не удалось создать комнату.',
        manageServer: 'Управление сервером {{title}}',
      },
      channels: {
        title: 'Каналы',
        text: 'Текстовые каналы',
        voice: 'Голосовые каналы',
        empty: 'Каналы пока не созданы',
        loading: 'Загружаем каналы…',
        createText: 'Создать текстовый канал',
        createVoice: 'Создать голосовой канал',
        createCategory: 'Создать категорию',
        createTitle: 'Создание канала',
        createSubtitle: 'Разделите обсуждения по темам.',
        createNameLabel: 'Название канала',
        createNamePlaceholder: 'Общий',
        createTypeLabel: 'Тип канала',
        typeText: 'Текстовый',
        typeVoice: 'Голосовой',
        createSubmit: 'Создать канал',
        createNameRequired: 'Введите название канала.',
        createUnknownError: 'Не удалось создать канал.',
        manageChannel: 'Управление каналом {{name}}',
        deleteChannel: 'Удалить канал',
        deleteChannelFailed: 'Не удалось удалить канал.',
        openChannel: 'Открыть канал',
        copyLetter: 'Скопировать букву',
        copyLetterFailed: 'Не удалось скопировать букву канала.',
        managePermissions: 'Права',
        manageCategory: 'Управление категорией {{name}}',
        deleteCategory: 'Удалить категорию',
        deleteCategoryFailed: 'Не удалось удалить категорию.',
        categoryCreateTitle: 'Создание категории',
        categoryCreateSubtitle: 'Категории группируют каналы внутри {{title}}.',
        categoryNameLabel: 'Название категории',
        categoryNamePlaceholder: 'Объявления',
        categoryPositionLabel: 'Позиция',
        categoryPositionHint: 'Меньшее значение — выше в списке.',
        categoryCreateSubmit: 'Создать категорию',
        categoryNameRequired: 'Введите название категории.',
        quickCreate: 'Новый канал',
        permissionsTitle: 'Права канала {{name}}',
        permissionsSubtitle: 'Настройте доступ для ролей и участников.',
        permissionRoles: 'Переопределения ролей',
        permissionMembers: 'Переопределения участников',
        permissionEmpty: 'Переопределений пока нет.',
        permissionSelectMember: 'Выберите участника',
        permissionAddMember: 'Добавить переопределение',
        permissionRemoveMember: 'Удалить',
        permissionsLoading: 'Загрузка прав…',
        permissionsUpdateFailed: 'Не удалось обновить права.',
        permissionStates: {
          allow: 'Разрешить',
          deny: 'Запретить',
          inherit: 'По умолчанию',
        },
        permissionNames: {
          view: 'Просмотр канала',
          send_messages: 'Отправка сообщений',
          manage_messages: 'Управление сообщениями',
          connect: 'Подключение к голосу',
          speak: 'Голосовой разговор',
        },
      },
      roles: {
        manageAction: 'Роли',
        manageTitle: 'Управление ролями',
        manageSubtitle: 'Настройте приоритеты и доступ участников.',
        role: 'Роль',
        level: 'Уровень',
        save: 'Сохранить',
        levelRequired: 'Введите числовой уровень.',
        updateFailed: 'Не удалось обновить уровень роли.',
        owner: 'Владелец',
        admin: 'Админ',
        member: 'Участник',
        guest: 'Гость',
      },
      chat: {
        title: 'Чат',
        placeholder: 'Сообщение в #{{name}}',
        send: 'Отправить',
        empty: 'Сообщений ещё нет — начните диалог!',
        typing: '{{users}} печатает…',
        typingMany: '{{count}} участника печатают…',
        connection: {
          connecting: 'Подключаемся…',
          error: 'Соединение потеряно',
          connected: 'Подключено',
        },
        reply: 'Ответить',
        viewThread: 'Открыть тред',
        edit: 'Редактировать',
        delete: 'Удалить',
        restore: 'Восстановить',
        moderate: 'Модерировать',
        save: 'Сохранить',
        cancel: 'Отмена',
        deleteConfirm: 'Удалить сообщение?',
        moderatePrompt: 'Причина модерации (необязательно)',
        messageDeleted: 'Сообщение удалено',
        edited: 'изменено',
        moderated: 'модерация',
        moderationNote: 'Причина: {{note}}',
        pinned: 'закреплено',
        threadTitle: 'Тред {{user}}',
        threadError: 'Не удалось загрузить тред',
        replyingTo: 'Ответ на',
        attachFile: 'Прикрепить файл',
        emojiPicker: 'Выбрать эмодзи',
        removeAttachment: 'Удалить',
        sendError: 'Не удалось отправить сообщение',
        editError: 'Не удалось обновить сообщение',
        deleteError: 'Не удалось удалить сообщение',
        moderateError: 'Не удалось модерировать сообщение',
        reactionsLabel: 'Реакции',
        addReaction: 'Добавить реакцию',
        addReactionWithEmoji: 'Добавить реакцию {{emoji}}',
        toggleReaction: 'Переключить реакцию {{emoji}}',
        reactionAdded: 'Реакция добавлена {{emoji}}',
        reactionRemoved: 'Реакция снята {{emoji}}',
        reactionError: 'Не удалось обновить реакцию',
        pinsEmpty: 'Нет закрепленных сообщений',
        pinsLabel: 'Закрепленные сообщения',
        hidePins: 'Скрыть закрепы',
        showPins: 'Закрепы ({{count}})',
        unpin: 'Открепить',
        unknownUser: 'Участник',
        attachmentMessage: 'Вложение',
      },
      presence: {
        title: 'Онлайн',
        empty: 'В канале пока никого нет.',
        focusUser: 'Перейти к {{name}}',
        copyName: 'Скопировать имя',
        copyId: 'Скопировать ID',
      },
      voice: {
        title: 'Голос',
        sections: {
          status: 'Статус',
          quickActions: 'Быстрые действия',
          channels: 'Каналы',
          devices: 'Устройства и вход',
          participants: 'Участники',
        },
        connectHint: 'Выберите голосовой канал, чтобы увидеть участников.',
        empty: 'Никто не в голосовых комнатах.',
        join: 'Подключиться',
        leave: 'Отключиться',
        participants: 'Участники',
        status: {
          connected: 'Подключено',
          connecting: 'Подключение…',
          disconnected: 'Не подключено',
          error: 'Ошибка соединения',
        },
        controls: {
          label: 'Управление голосом',
          mute: 'Выключить микрофон',
          unmute: 'Включить микрофон',
          deafen: 'Отключить звук',
          undeafen: 'Включить звук',
          videoOn: 'Включить видео',
          videoOff: 'Выключить видео',
          refreshDevices: 'Обновить устройства',
          retry: 'Повторить',
        },
        devices: {
          label: 'Устройства',
          microphone: 'Микрофон',
          speaker: 'Динамики',
          camera: 'Камера',
          none: 'Нет доступных устройств',
          unknown: 'Неизвестное устройство',
          sinkNotSupported: 'Выбор выхода не поддерживается',
        },
        microphoneSettings: {
          label: 'Настройки микрофона',
          level: 'Уровень входа',
          gain: 'Усиление',
          gainValue: '{{value}}×',
          auto: 'Автонастройка',
        },
        playbackSettings: {
          label: 'Прослушивание',
          volume: 'Громкость участников',
          volumeValue: '{{value}}%',
          participantSlider: 'Громкость для {{name}}',
          participantValue: '{{value}}%',
        },
        participantYou: 'вы',
        noRoomSelected: 'Выберите сервер, чтобы подключиться к голосу.',
      },
      settings: {
        title: 'Настройки рабочей области',
        token: 'Токен доступа',
        tokenHint: 'Токены хранятся только в этом браузере.',
        save: 'Сохранить',
        reset: 'Очистить',
        close: 'Закрыть',
        theme: 'Тема',
        background: 'Пользовательский фон',
        backgroundHint: 'Используйте любое корректное значение цвета или градиента CSS.',
        backgroundPlaceholder: 'linear-gradient(...)',
        animations: 'Включить анимации интерфейса',
        language: 'Язык',
      },
      theme: {
        light: 'Светлая',
        dark: 'Тёмная',
        midnight: 'Полночь',
        forest: 'Лес',
        ocean: 'Океан',
        yani: 'Яни',
      },
      commandPalette: {
        title: 'Командная палитра',
        hint: 'Поиск серверов, каналов и участников',
        placeholder: 'Поиск…',
        empty: 'Ничего не найдено.',
        server: 'Сервер',
        textChannel: 'Текстовый канал',
        voiceChannel: 'Голосовой канал',
        user: 'Участник',
      },
      language: {
        ru: 'Русский',
        en: 'English',
      },
      errors: {
        missingToken: 'Добавьте токен доступа, чтобы продолжить.',
        loadRooms: 'Не удалось загрузить список комнат',
        loadRoom: 'Не удалось загрузить комнату',
      },
      common: {
        loading: 'Загрузка…',
        retry: 'Повторить',
        cancel: 'Отмена',
        close: 'Закрыть',
        refresh: 'Обновить',
      },
    },
  },
} as const;

i18n
  .use(initReactI18next)
  .init({
    resources,
    lng:
      typeof navigator !== 'undefined' && navigator.language.toLowerCase().startsWith('ru')
        ? 'ru'
        : 'en',
    fallbackLng: 'en',
    interpolation: {
      escapeValue: false,
    },
  })
  .catch((error) => {
    console.error('Failed to initialize i18n', error);
  });

export default i18n;
